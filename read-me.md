

## 项目的结构
### css
- `css`
 -  `main.css`——页面主要的css都放这里

### js
- `js`
 -  `main.js`——页面主要的js都放这里,包括`MVC`
 -  `loading-tool.js`——loading插件js
 -  `lib.js`——libruary库，各种第三方插件都放在这里，包括`zepto，zepto-animate（zeptoFx.js），weixin.js`等等

### assets(存放各种资源文件)
- `assets`
 -  image文件夹——存放图片资源
 -  music文件夹——存放音乐资源

### html
- `index.html`——主页
一般项目只需要一个html即可，制作单页面项目

### 注意事项
- 库文件内容可根据需要进行删减
- `main.js`中需要使用`MVC`结构
- 涉及到音乐自动播放的都需要使用`wenxin组件`

## 项目中较为重要的组件（主要是js）
### 1. 微信组件
现在的项目中大部分都需要用到微信组件，分享，自动播放音乐都需要用到它。引入`wenxin库文件`后，在`main.js`中填好对应的代码即可享用它带来的种种福利。微信组件需要后台配合，没有后台是没办法使用它的。
    
### 2. 背景音乐
几乎所有的项目都会有背景音乐，除了个别公司主页，或者过于简单的页面之外，h5基本都有自己的背景音乐。  
一般，我们在引入微信后，使用如下代码加载背景音乐：
    
```js
appView.$timeout[0].muted = true;
document.addEventListener("WeixinJSBridgeReady", function () {//微信
    appView.$bgMusicAudio[0].play();
}, false);
```

这是`controller`当中的代码，`appView.$bgMusicAudio[0]`是一个音乐`dom`对象，通过将其先静音，再自动播放的手段，可以控制背景音乐的自动播放时机。

<strong>ios中自动播放音乐只能通过该方法。即使不是背景音乐，如果某个音效需要自动播放，那么也只能使用该方法</strong>


### 3. loading
只要不是页面中只有几张图的小项目，基本都会有`loading`存在。本项目内置一个简单的`loading`，即`loading-min.js`，简单调用即可。

但大部分项目其实都有自己的`loading`，这里的`loading`主要是监听图片的加载情况，所以`loading`一般是配合`ImageLoad.js`一起使用的。

`loading`的具体内容各个项目各有不同，但是请记住：`loading`仅仅是`html`代码，和一般页面代码一样，没有什么特殊的地方。

### 4. ImageLoad
和`loading`配合使用，用于预加载图片。这个部分放在`lib`当中，可以直接使用——

### 5. resizeItem
这个组件主要是为了适配，移动端设备上元素不能直接使用`px`，
适配主要使用以下方式去配合解决

1. 使用百分比

百分比去衡量元素使用最为频繁，将元素大小按照比例设置宽高，既方便后遗症也较少。唯一的优点也是缺点就是会根据父容器的变动而变动，从而过于依赖父容器。如果父容器意外宽高消失，会导致里面的元素跟着消失。
但即使如此，百分比是最方便的做法这个现状是依然是不变的。
对于自适应的元素，宽高都使用百分比即可完美自适应
对于图片，只需要将宽度或者高度的某一个设为百分比，图片便会自己撑起来一定的空间，从而导致图片不会被压缩。

2. `vw`与`vh`
和`px，%,em`一样，`vw，vh`作为新的度量单位出现，其效果非常类似于百分比。
`100vw=100%`浏览器可视区宽度
`100vh=100%`浏览器可视区高度
有了这个，百分比的缺点便可以弥补，元素不再依赖于父元素，将元素的宽高用`vw`，上下间距用`vh`，便可以轻松做出想要的自适应效果。
但是缺点便是兼容性问题，截止20180713，期各个浏览器支持率也仅有77%左右，可能会存在某些浏览器不支持的情况。数据来源：https://caniuse.com/#search=vw

3. js动态修改
走投无路的时候，我们会使用`js`去动态修改元素的大小。原理很简单：根据当前手机宽度等比例放大缩小元素，并根据实际情况，微调其高度。
库文件的`resizeItem`就是做这个的，使用`findDemension`获取屏幕宽高，进而对元素进行等比例缩放。
动态修改有着一些缺点，如修改可能会有一定延迟（至少等`document.ready`之后），需要一个个的去设定，不好维护等等，但是毫无疑问：<strong>这是一个能百分百解决元素大小问题的方法</strong>，毕竟不可能有元素连px都不支持。

## 发布详情
#### 发布的时候需要注意一些细节：
### 1. 使用lib.min.js
所有的库文件都放在`lib.min.js`当中了，发布的时候，可根据项目的实际需求，增删其中的库文件，像第三方引用之类的代码请一定要放在这里，以减少网页请求`js`数量，达到提速的效果。

### 2. 保证结构整洁干净
`css文件夹`中应当有且仅有一个文件，`js`被引用的应该只会有两个js文件：`lib和app.js`，所有的资源，包括图片图片，音乐等统统放在`assets`当中，再加上`html`和`readme`，这就是一个项目应当有的结构，且应该是最终结构。

请保持最外层文件结构如上述介绍的一样干净，方便管理。

## 其他注意点

1. 有些第三方插件同时带有`css`和`js`文件，请尝试动态加载`css`，这会使得`html`变得更加干净或者减少了引用css数量。

2. 目前vw，vh兼容情况
请登录： https://caniuse.com/#search=vw 查询最新兼容情况

3. js文件夹中多余的文件
    - js文件夹中有很多多余的js文件，是一些库文件的原文件，他们的存在不会影响你的项目的发布，只要没有引用，他们就不会给项目带来任何损失，所以不要乱删。
    - 当然。如果你觉得文件较多较乱，你也可以专门开一个`dist文件夹`，专门存放发布的项目，将整个项目放进去后，文件的删减就随你喜欢。
    - js原文件的作用：原文件也不是一成不变的，你会遇到种种情况需要更改原文件，如自定义横屏提示，这时候就需要更改`horizontal-hint.js`。原文件更改后，然后将其压缩，存放到`lib.min`当中。  